# zero-knowledge_proof

## Prerequisite

* pwntools
* PyCryptodome

## how to use

0. edit protocol.py (if you need)

1. `python alice.py`

2. `python bob.py`

## example

### alice(prover)

``` bash
$ python alice.py
[*] parameters are set.
{'p': 76561679471715412728912744660712718367045959006674734607735040049799702935863, 'g': 5, 'h': 3785009918282855528211561954943880141914973771496585893017675070654652107758}
[*] secret -> 70662950738187723213755684117953245089002682460179799994135410121540961232592
[+] Trying to bind to 0.0.0.0 on port 43121: Done
[+] Waiting for connections on 0.0.0.0:43121: Got connection from 127.0.0.1 on port 51944
[*] I got c: 1
[*] I got c: 0
[*] I got c: 1
[*] I got c: 0
[*] I got c: 0
[*] I got c: 1
[*] I got c: 1
[*] I got c: 1
[*] I got c: 0
[*] I got c: 1
[*] Closed connection to 127.0.0.1 port 51944
```

### bob(verifier)

``` bash
$ python bob.py
[+] Opening connection to localhost on port 43121: Done
Hi bob. This is our parameters.

{'p': 76561679471715412728912744660712718367045959006674734607735040049799702935863, 'g': 5, 'h': 3785009918282855528211561954943880141914973771496585893017675070654652107758}
[*] ~~~~~ round 1 ~~~~~
[*]   I got x: 52725007870267950891911152150133001784372249978507709207183949795985428370155
[*]   I send c: 1
[*]   I got y: 73290106583291367666370832070379760057462277862740383814002801610025449771305
[*]   Accepted
[*] ~~~~~ round 2 ~~~~~
[*]   I got x: 66636544622951683327526362460423754462398749258380556161336883847155491093284
[*]   I send c: 0
[*]   I got y: 9541295973318536971608601308157715758385916781856532551044314008876212918050
[*]   Accepted
[*] ~~~~~ round 3 ~~~~~
[*]   I got x: 75161675829883095970842469916242687011218757911011813805806760943229928939672
[*]   I send c: 1
[*]   I got y: 99002444007562290123120933704870999587896307660468838573353787151792719100793
[*]   Accepted
[*] ~~~~~ round 4 ~~~~~
[*]   I got x: 58153266848820089169045076412422056408962124505251427254753371602216870806869
[*]   I send c: 0
[*]   I got y: 23801152765142127340361812392233335393815957101655221265743038364880343408286
[*]   Accepted
[*] ~~~~~ round 5 ~~~~~
[*]   I got x: 37934953945459937005165440838056506890048682031272604744122016059377560241319
[*]   I send c: 0
[*]   I got y: 68937861341669821971375929586849722448243111017983883956340335245256984569641
[*]   Accepted
[*] ~~~~~ round 6 ~~~~~
[*]   I got x: 30654532133778639583789776593297090340429037629653144135566276814309554543917
[*]   I send c: 1
[*]   I got y: 119257058598275936021719097233478453953049301609879636843922001837289782526125
[*]   Accepted
[*] ~~~~~ round 7 ~~~~~
[*]   I got x: 12884793206860350446160213402231850000324575171296842468421098405987362277693
[*]   I send c: 1
[*]   I got y: 91995678060344440736245801944276447838282212485451162895517989750621322646353
[*]   Accepted
[*] ~~~~~ round 8 ~~~~~
[*]   I got x: 22236108096231187001344958678363261243487044012922807570071409339219551569385
[*]   I send c: 1
[*]   I got y: 74194039196183929925284662886501328580947220955018295484938942210336115722124
[*]   Accepted
[*] ~~~~~ round 9 ~~~~~
[*]   I got x: 49403089253561867162076161227297844849347070405073646594299071904824310590726
[*]   I send c: 0
[*]   I got y: 16414488728338641714233014206618478385030935242346294992876148806163062315365
[*]   Accepted
[*] ~~~~~ round 10 ~~~~~
[*]   I got x: 20631580977829787357285161628260431101277406072476485957840094212420425841745
[*]   I send c: 1
[*]   I got y: 79474713641524692115932855021857487721024741724236732809210209153450641913691
[*]   Accepted
[*] Closed connection to localhost port 43121
[*] Alice is a valid prover
```

## todo

* aliceがsecretを知らない場合をコマンドライン引数で指定出来るようにして証明を失敗させる
